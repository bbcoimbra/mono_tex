\subsection{Análise Sintática}

A Análise Sintática define a forma com que um programa é estruturado. Essa
estrutura é dada por um conjunto de \emph{regras gramaticais} descritas em uma
\emph{Gramática Livre de Contexto} (verificar Seção \ref{sec:context_free_grammar}).

Segundo \citeonline{new-dragon-pt}:
\begin{citacao}{4cm}{0cm}\footnotesize \emph
	Existem três estratégias gerais de análise sintática para o processamento
	de gramáticas: universal, descendente e ascendente. Os métodos de análise
	baseados na estratégia universal (\dots) podem analisar qualquer
	gramática, (\dots) no entanto são muito ineficientes para serem utilizados
	em compiladores de produção.

	Os métodos geralmente usados em compiladores são baseados nas estratégias
	descendentes ou ascendentes. Conforme sugerido por seus nomes, os métodos
	de análise descendentes constroem as árvores de derivação de cima (raiz)
	para baixo (folhas), enquanto os métodos ascendentes fazem a análise no
	sentido inverso, começam nas folhas e avançam até a raiz construindo a
	árvore. Em ambas as estratégias, a entrada do analisador sintático é
	consumida da esquerda para a direita, um símbolo de cada vez.
\end{citacao}

Para maiores referências sobre analisadores descendentes (descendente
recursivos e LL(k)), consulte \citeonline{louden97-pt}, \citeonline{parr07},
\citeonline{jacobs85}.

\subsubsection{Gramáticas Livres de Contexto}
\label{sec:context_free_grammar}

\emph{Gramática} é essencialmente um conjunto de Regras de Produção (ou
Re-escrita). Essas regras são, usualmente, descritas utilizando uma notação
chamada \textbf{Forma de Backus-Naur}, ou \textbf{BNF} \cite{louden97-pt}.

Um exemplo abstrato de regra de produção é demonstrado abaixo:

\[
A \rightarrow \alpha
\]

Esta expressão indica que o não-terminal \(A\) será substituído pela sequência
de terminais e/ou não-terminais representada por \(\alpha\). Um \emph{terminal},
normalmente, é um \emph{token} oriundo do analisador léxico.

Um exemplo mais concreto é demonstrado abaixo:

\[
expr \rightarrow expr + expr | \textbf{numero}
\]

Esta regra indica que uma expressão é composta de uma expressão seguida de um
sinal de + seguida de outra expressão, ou de um número. O nome da regra é dado
pela parte que está a esquerda da seta, seu corpo é dado pelo que está a
direita. O sinal \(|\) indica uma escolha de alternativas no corpo da
produção. Percebemos, também, que uma regra gramatical pode ter uma
definição recursiva.

Segundo \citeonline{louden97-pt}, podemos definir uma \textbf{gramática livre de
contexto} mais formalmente conforme segue:
\begin{enumerate}
	\item Um conjunto \(T\) de \textbf{terminais}.
	\item Um conjunto \(N\) de \textbf{não-terminais} (disjunto de \(T\)).
	\item Um conjunto \(P\) de \textbf{produções} na forma \(A \rightarrow \alpha\)
				em que \(A\) é um elemento de \(N\) e \(\alpha\) é um elemento de
				\((T \cup N)^*\) (uma sequência de terminais e não-terminais que
				pode ser vazia).
	\item Um \textbf{símbolo inicial} \(S\) do conjunto \(N\).
\end{enumerate}

Dessa forma, o processo de reconhecimento da linguagem inicia-se derivando o
símbolo inicial da gramática, substituindo repetidamente um não-terminal pelo
corpo desse não terminal \cite{new-dragon-pt}.

Assim, uma \textbf{gramática livre de contexto} é uma \emph{gramática}
conforme definido a cima, e é livre de contexto pois a parte a esquerda de uma
regra de produção pode ser substituída pelo seu corpo em qualquer ponto,
independentemente de onde ocorra a parte esquerda da regra \cite{louden97-pt}.

Em contrapartida, uma produção em uma gramática sensível a contexto é demonstrada
abaixo:
\[
	\gamma{}A{}\beta \rightarrow \gamma\alpha\beta
\]

Nesta regra, \(A\) pode ser substituído por \(\alpha\), somente se
\(A\) estiver entre os terminais \(\gamma\) e \(\beta\).

\subsubsection{Análise Sintática Ascendente}
\label{sec:asc_syntax_analisys}
O processo de análise sintática ascendente foi proposto por Donald E. Knuth
em 1965. Nesse artigo, ele define a análise sintática $\textbf{LR(k)}$. O
``L'' indica que a entrada é processada da esquerda para a direita e o ``R''
indica que uma derivação a direita é produzida, e a variável $k$ indica
o número de símbolos de verificação a frente utilizados pelo analisador.
\cite{louden97-pt}.

Ainda segundo \citeonline{louden97-pt}, essa forma de análise foi
considerada impraticável até que as técnicas \emph{SLR} e \emph{LALR}
foram desenvolvidas por DeRemer em 1969. Ainda assim, não é prática usual
contruir um analisador sintático ascendente manualmente, mas utilizar um
gerador que abstraia os detalhes de implementação (Verificar Seção
\ref{sec:yacc}). Mais detalhes sobre essas técnicas podem ser obtidos em
\citeonline{knuth65}, \citeonline{Deremer69}, \citeonline{new-dragon-pt}.

Os analisadores ascendentes utilizam uma pilha explícita (diferentemente dos
analisadores recursivos, que utilizam a pilha implicitamente) durante o processo de
análise sintática e, no geral, possuem duas ações possíveis, além da aceitação:

\begin{enumerate}
	\item \textbf{Carregar} um terminal da entrada para o topo da pilha.
	\item \textbf{Reduzir} uma cadeia de terminais $\alpha$ para um não-terminal
	      $A$, dada a escolha da regra $A \rightarrow \alpha$.
\end{enumerate}

Por causa dessa duas ações possíveis, esse tipo de análisador também é
conhecido como \textbf{carrega-reduz} (ou \emph{shift-reduce}).

\begin{lstlisting}[label=lst:grammar_example, caption=Gramática Exemplo]
resultado = exp
          ;

exp = exp + exp
    | exp - exp
    | fator
    ;

fator = fator * fator
      | (exp)
      | numero
      ;
\end{lstlisting}

\begin{lstlisting}[label=lst:source_example, caption=Programa Exemplo]
10 * 20 + 30
\end{lstlisting}

Dados a gramática exemplo da Listagem \ref{lst:grammar_example} e o programa
da Listagem \ref{lst:source_example}, e considerando os símbolos $E$, $F$
e $N$ como os não-terminais \emph{exp}, \emph{fator} e \emph{numero},
respectivamente, que \emph{numero} representa um número inteiro, teremos os
seguintes passos executados pelo analisador sintático:

\begin{enumerate}
  \item Carregar $N$ na pilha.
  \item Reduzir o topo da pilha para $F$ e empilhar.
  \item Carregar o token ``*'' na pilha.
  \item Carregar o token $N$ na pilha.
  \item Reduzir o topo da pilha para $F$ e empilhar.
  \item Reduzir $F*F$ para $E$.
  \item Carregar o token ``+'' na pilha.
  \item Carregar o token $N$ na pilha.
  \item Reduzir $N$ para $F$ e empilhar.
  \item Reduzir $F$ para $E$ e empilhar.
  \item Reduzir $E+E$ para \emph{resultado}.
\end{enumerate}

Nesse momento, o analisador sintático retorna informando que o programa está
correto e que a sequência de tokens foi aceita como válida para a gramática
definida, ou seja, o analisador ``aceitou'' o programa.

\subsubsection{Geradores de Analisadores Sintáticos Ascendentes}
\label{sec:yacc}

